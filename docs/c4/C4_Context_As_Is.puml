@startuml
!includeurl https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

LAYOUT_TOP_DOWN()

Person(user, "Пользователь", "Владелец дома. Управляет отоплением и просматривает температуру через веб-интерфейс")
Person(technician, "Техник", "Сотрудник компании, выезжает на установку и подключает устройства")

System_Boundary(monolith, "Монолитное приложение WarmHouse") {
  System(app, "Монолитное приложение (Go)", "Управление отоплением и мониторинг температуры")
  SystemDb(db, "PostgreSQL", "Хранение пользователей, устройств и показаний температуры")
}

System_Ext(device, "Датчики и реле", "Температурные датчики и реле отопления, установленные в доме")

Rel(user, app, "Управляет отоплением и просматривает температуру", "Веб-интерфейс (HTTP)")
Rel(technician, app, "Регистрирует и подключает устройства", "Вручную при установке")
Rel(app, device, "Опрос температуры и команды управления", "Синхронные запросы")
Rel(app, db, "Читает и записывает данные", "SQL")

@enduml
